!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function f(a,b){(c(a,b)?e:d)(a,b)}var c,d,e;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)}):(c=function(a,c){return b(c).test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className+" "+b)},e=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:c,addClass:d,removeClass:e,toggleClass:f,has:c,add:d,remove:e,toggle:f};"function"==typeof define&&define.amd?define(g):a.classie=g}(window),function(a){"use strict";function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){this.el=a,this.options=f({},this.options),f(this.options,b),this.ctrlsClose=this.el.querySelectorAll("[data-dialog-close]"),this.isOpen=!1,this.inProgress=!1,this._initEvents()}var b={animations:Modernizr.cssanimations},c={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},d=c[Modernizr.prefixed("animation")],e=function(a,c){var e=function(a){if(b.animations){if(a.target!=this)return;this.removeEventListener(d,e)}c&&"function"==typeof c&&c.call()};b.animations?a.addEventListener(d,e):e()};g.prototype.options={onFirstOpenDialog:function(){return!1},onBeforeOpenDialog:function(){return!1},onOpenDialog:function(){return!1},onBeforeCloseDialog:function(){return!1},onCloseDialog:function(){return!1},nDefaultTimeOpenDialog:0,nDefaultTimeCloseDialog:0},g.prototype._initEvents=function(){for(var a=this,b=this.ctrlsClose.length-1;b>=0;b--)this.ctrlsClose[b].addEventListener("click",this.toggle.bind(this));document.addEventListener("keydown",function(b){27===(b.keyCode||b.which)&&a.isOpen&&a.toggle()});var c=this.el.querySelector(".dialog__overlay");null!==c&&c.addEventListener("click",this.toggle.bind(this))},g.prototype.toggle=function(){var a=this;if(this.inProgress=!0,this.isEverOpen||(this.options.onFirstOpenDialog(this),this.isEverOpen=!0),this.isOpen){this.options.onBeforeCloseDialog(this);var b=this;setTimeout(function(){classie.remove(b.el,"dialog--open"),classie.add(a.el,"dialog--close"),e(b.el.querySelector(".dialog__content"),function(){classie.remove(a.el,"dialog--close")}),b.options.onCloseDialog(b),b.inProgress=!1},this.options.nDefaultTimeCloseDialog)}else{this.options.onBeforeOpenDialog(this);var b=this;setTimeout(function(){classie.add(b.el,"dialog--open"),b.options.onOpenDialog(b),b.inProgress=!1},this.options.nDefaultTimeOpenDialog)}this.isOpen=!this.isOpen},a.DialogFx=g}(window);